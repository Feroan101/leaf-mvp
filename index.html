<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileHub Pro - Advanced File Organizer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #e0e0e0;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

       body {
        background:
            linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)),
            url("loader.gif") center center no-repeat fixed;
        background-size: cover;
        }

        /* brighter gif on top, initially hidden */
        .gif-highlight {
            position: fixed;
            inset: 0;
            pointer-events: none;
            background:
                radial-gradient(circle at center,
                rgba(255, 255, 255, 0.18) 0,
                rgba(255, 255, 255, 0) 300px),
                url("loader.gif") center center no-repeat fixed;
            background-size: cover;
            opacity: 0;
            transition: opacity 0.2s ease-out;
        }


        /* Enhanced Navigation Bar */

        .navbar {
            backdrop-filter: blur(20px);
            border-bottom: 1px solid #2a2a2a;
            padding: 0 24px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
            width: 100%;
        }

        .navbar-left {
            display: flex;
            align-items: center;
            gap: 20px;
            flex: 1; 
            min-width: 0;
        }

        .navbar-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 22px;
            font-weight: 700;
            color: #ffffff;
            letter-spacing: -0.5px;
        }

        .navbar-logo i {
            font-size: 28px;
            color: #4f46e5;
        }

        .navbar-version {
            font-size: 11px;
            color: #666;
            font-weight: 500;
            background: rgba(79, 70, 229, 0.1);
            padding: 2px 8px;
            border-radius: 4px;
        }

        .navbar-menu {
            display: flex;
            gap: 4px;
            background: rgba(42, 42, 42, 0.5);
            border-radius: 10px;
            padding: 4px;
            height: 36px;
        }

        .navbar-menu-item {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #aaa;
            font-size: 13px;
            font-weight: 500;
            padding: 6px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            white-space: nowrap;
        }

        .navbar-menu-item:hover {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
        }

        .navbar-menu-item.active {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 2px 8px rgba(255, 255, 255, 0.1);
        }

        .navbar-menu-item i {
            font-size: 14px;
            width: 16px;
        }

        .navbar-right {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .navbar-search {
            position: relative;
            width: 280px;
        }

        .navbar-search input {
            width: 100%;
            background: rgba(42, 42, 42, 0.8);
            border: 1px solid #333;
            color: #e0e0e0;
            padding: 10px 40px 10px 16px;
            border-radius: 8px;
            font-size: 13px;
            transition: all 0.2s;
        }

        .navbar-search input:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .navbar-search i {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        .navbar-actions {
            display: flex;
            gap: 8px;
        }

        .navbar-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(42, 42, 42, 0.7);
            border: none;
            color: #e0e0e0;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .navbar-btn:hover {
            background: rgba(58, 58, 58, 0.9);
            color: #ffffff;
            transform: translateY(-1px);
        }

        .navbar-btn.primary {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        .navbar-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(79, 70, 229, 0.4);
        }

        .navbar-user {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            background: rgba(42, 42, 42, 0.5);
        }

        .navbar-user:hover {
            background: rgba(58, 58, 58, 0.8);
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 12px;
            color: white;
        }

        /* Main Container */
        .container {

            display: flex;
            overflow: hidden;
        }

        /* Enhanced Sidebar */
        
         

        .category-item:hover {
            color: #e0e0e0;
            transform: translateX(4px);
        }

        .category-item.active {
            color: #ffffff;
            border-left: 4px solid #4f46e5;
            padding-left: 12px;
        }

        .category-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .content-header {
            padding: 32px;
            border-bottom: 1px solid #2a2a2a;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .content-title-section {
            flex: 1;
        }

        .content-title {
            font-size: 32px;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 4px;
        }

        .content-subtitle {
            font-size: 14px;
            color: #888;
            margin-bottom: 12px;
        }

        .content-actions {
            display: flex;
            gap: 12px;
        }

        /* Enhanced Drop Zone 
        .drop-zone {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 32px;
            border: 2px dashed rgba(42, 42, 42, 0.5);
            border-radius: 16px;
            transition: all 0.3s;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.02);
            position: relative;
            overflow: hidden;
        }

        .drop-zone::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.03), transparent);
            transition: left 0.5s;
        }

        .drop-zone:hover::before {
            left: 100%;
        }

        .drop-zone:hover {
            border-color: rgba(79, 70, 229, 0.5);
            background: rgba(79, 70, 229, 0.03);
        }

        .drop-zone.dragover {
            border-color: #4f46e5;
            background: rgba(79, 70, 229, 0.1);
            transform: scale(1.02);
        }

        .drop-zone-content {
            text-align: center;
            pointer-events: none;
        }

        .drop-zone-icon {
            font-size: 64px;
            margin-bottom: 24px;
            opacity: 0.7;
            color: #4f46e5;
        }

        .drop-zone-title {
            font-size: 24px;
            font-weight: 600;
            color: #e0e0e0;
            margin-bottom: 12px;
        }

        .drop-zone-subtitle {
            font-size: 15px;
            color: #888;
            margin-bottom: 24px;
        }

        .drop-zone-button {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        .drop-zone-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(79, 70, 229, 0.4);
        } */

        /* Files Grid */
        .files-grid {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
            display: none;
            gap: 20px;
        }

        .files-grid.active {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        }

        .file-card {
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(42, 42, 42, 0.5);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .file-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .file-card:hover::before {
            transform: scaleX(1);
        }

        .file-card:hover {
            border-color: rgba(79, 70, 229, 0.5);
            background: rgba(34, 34, 34, 0.9);
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .file-card-icon {
            font-size: 40px;
            margin-bottom: 16px;
            color: #4f46e5;
        }

        .file-card-name {
            font-size: 13px;
            color: #e0e0e0;
            word-break: break-word;
            margin-bottom: 12px;
            line-height: 1.4;
            font-weight: 500;
        }

        .file-card-size {
            font-size: 12px;
            color: #666;
            margin-bottom: 12px;
        }

        .file-card-category {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: #888;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Enhanced Stats Bar */
        .stats-bar {
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid #2a2a2a;
            padding: 20px 32px;
            display: flex;
            gap: 40px;
            flex-shrink: 0;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            gap: 6px;
            min-width: 80px;
        }

        .stat-label {
            font-size: 11px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .stat-value {
            font-size: 20px;
            font-weight: 700;
            color: #ffffff;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(42, 42, 42, 0.5);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(79, 70, 229, 0.5);
        }

        @media (max-width: 1400px) {
            .navbar-search { width: 200px; }
            .files-grid { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); }
        }

.stats-bar {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 50;
  background: rgba(20, 20, 20, 0.95);
  backdrop-filter: blur(16px);
  border-top: 1px solid #2a2a2a;
  padding: 3px 20px;
  display: flex;
  align-items: center;
  gap: 16px;
  display: flex;
  align-items: center;
  gap: 16px;
}

.stats-left {
  display: flex;
  gap: 16px;
  align-items: center;
  flex: 1; /* fills remaining space after the log button */
}

.stats-brand {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  color: #9ca3af;
  white-space: nowrap;
}

.stats-brand .brand-prefix {
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: 9px;
  color: #6b7280;
}

.brand-logo {
  height: 10px;        /* tweak as needed */
  width: auto;
  display: block;
  filter: drop-shadow(0 0 6px rgba(0, 0, 0, 0.7));
}


.stats-brand .brand-name {
  font-weight: 700;
  font-size: 11px;
  color: #e5e7eb;
  padding: 2px 8px;
  border-radius: 999px;
  background: radial-gradient(circle at 0% 0%, #4f46e5, #0f172a);
  box-shadow: 0 0 10px rgba(79, 70, 229, 0.6);
}

/* log button stays the same */
.log-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 2px 12px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  background: rgba(15, 23, 42, 0.9);
  color: #e5e7eb;
  font-size: 11px;
  cursor: pointer;
  outline: none;
  transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
}

.log-btn i {
  font-size: 13px;
}

.log-btn:hover {
  background: rgba(30, 64, 175, 0.95);
  box-shadow: 0 0 12px rgba(59, 130, 246, 0.4);
  transform: translateY(-1px);
}


/* log popup */
.log-panel {
  position: fixed;
  right: 20px;
  bottom: 56px; /* just above the bar */
  width: 260px;
  max-height: 260px;
  padding: 10px 10px 8px;
  border-radius: 12px;
  background: rgba(15, 23, 42, 0.96);
  backdrop-filter: blur(18px);
  border: 1px solid rgba(148, 163, 184, 0.35);
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.7);
  font-size: 11px;
  display: none;
  z-index: 60;
}

.log-panel.open {
  display: flex;
  flex-direction: column;
}

.log-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 6px;
  font-weight: 600;
  color: #e5e7eb;
}

.log-close {
  border: none;
  background: transparent;
  color: #9ca3af;
  cursor: pointer;
  font-size: 14px;
  padding: 0 4px;
}

.log-body {
  overflow-y: auto;
  padding-right: 4px;
}

.log-item {
  display: flex;
  gap: 8px;
  padding: 4px 2px;
  border-radius: 6px;
}

.log-item:hover {
  background: rgba(30, 64, 175, 0.22);
}

.log-time {
  color: #9ca3af;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  min-width: 48px;
}

.log-text {
  color: #e5e7eb;
  flex: 1;
}


.sys-item {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #9ca3af;
  white-space: nowrap;
}

.sys-item i {
  font-size: 9px;
  color: #9ca3ff;
}

.sys-item .label {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-weight: 600;
  font-size: 9px;
  color: #6b7280;
}

.sys-item .value {
  font-size: 9px;
  font-weight: 600;
  color: #e5e7eb;
}

.server-health.server-ok .value {
  color: #4ade80;
}

.server-health.server-bad .value {
  color: #f87171;
}

    </style>
    <link rel="stylesheet" href="side-bar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/akar-icons-fonts/1.1.9/css/akar-icons.min.css"/>
    <link rel="stylesheet"
      href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css">
    <link rel="stylesheet"
      href="https://cdn-uicons.flaticon.com/uicons-thin-straight/css/uicons-thin-straight.css">


</head>
<body>
    <div class="gif-highlight"></div>

    <!-- Advanced Navigation Bar -->
    <div class="navbar">
        <div class="navbar-left">
            <div class="navbar-logo">
                <i class="fas fa-folder-open"></i>
                Leaf Singularity
                <span class="navbar-version">v2.1 Pro</span>
            </div>
            <div class="navbar-menu">
                <a class="navbar-menu-item active" onclick="switchView('upload')">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <span>Upload</span>
                </a>
                <a class="navbar-menu-item" onclick="switchView('organize')">
                    <i class="fas fa-sitemap"></i>
                    <span>Organize</span>
                </a>
                <a class="navbar-menu-item" onclick="switchView('analyze')">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analyze</span>
                </a>
                <a class="navbar-menu-item" onclick="switchView('automate')">
                    <i class="fas fa-robot"></i>
                    <span>Automate</span>
                </a>
                <a class="navbar-menu-item" onclick="switchView('share')">
                    <i class="fas fa-share-alt"></i>
                    <span>Share</span>
                </a>
                <a class="navbar-menu-item" onclick="switchView('settings')">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </div>
        </div>
        <div class="navbar-right">
            <div class="navbar-search">
                <input type="text" placeholder="Search files..." id="searchInput" oninput="filterFiles()">
                <i class="fas fa-search"></i>
            </div>
            <div class="navbar-actions">
                <button class="navbar-btn" onclick="importBatch()" title="Batch Import">
                    <i class="fas fa-file-import"></i>
                </button>
                <button class="navbar-btn" onclick="scanFolder()" title="Folder Scan">
                    <i class="fas fa-folder-open"></i>
                </button>
                <button class="navbar-btn primary" onclick="processFiles()" title="Process Files">
                    <i class="fas fa-play"></i> Process
                </button>
            </div>
            <div class="navbar-user" onclick="toggleUserMenu()" title="User Menu">
                <div class="user-avatar">RH</div>
                <span style="font-size: 13px; font-weight: 500;">Ravi</span>
                <i class="fas fa-chevron-down" style="font-size: 11px;"></i>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Enhanced Sidebar -->
        <div class="sidebar">
            <div class="sidebar-section">
                <ul>
                    <li>
                        <a href="#">
                            <i class="ai-home"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="ai-image"></i>
                            <span>Images</span>
                        </a>
                    </li>	
                    <li>
                        <a href="#">
                            <i class="ai-file"></i>
                            <span>Files</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="ai-game-controller"></i>
                            <span>Games</span>
                        </a>
                    </li>	
                    <li>
                        <a href="#">
                            <i class="ai-book-open"></i>
                            <span>Books</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="ai-bell"></i>
                            <span>Notifications</span>
                        </a>
                    </li>
                    <li>	
                        <a href="#">
                            <i class="ai-gear"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="ai-person"></i>
                            <span>Profile</span>
                        </a>
                    </li>
                </ul>
                </div>
             </div>
        </div>

        <!-- Main Content Area 
        <div class="main-content">
            <div class="content-header">
                <div class="content-title-section">
                    <div class="content-title">Advanced File Organizer</div>
                    <div class="content-subtitle">Drag & drop files for automatic categorization with AI-powered analysis</div>
                </div>
                <div class="content-actions">
                    <button class="navbar-btn" onclick="toggleAdvancedOptions()">Advanced Options</button>
                    <button class="navbar-btn primary" onclick="scanDrive()">Scan Drive</button>
                </div>
            </div> -->

            <!-- Drop Zone
                <div class="drop-zone-content">
                    <div class="drop-zone-icon"><i class="fas fa-cloud-upload-alt"></i></div>
                    <div class="drop-zone-title">Drop your files here</div>
                    <div class="drop-zone-subtitle">Supports 500+ file types • Drag folders too • Auto-categorization</div>
                    <button class="drop-zone-button" onclick="document.getElementById('fileInput').click()">
                        <i class="fas fa-folder-open"></i> Browse Files
                    </button>
                </div> 
            <div class="drop-zone" id="dropZone"></div>

            <!-- Files Grid -->
            <div class="files-grid " id="filesGrid"></div> 

            <!-- Enhanced Stats Bar 
            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-label">Total Files</span>
                    <span class="stat-value" id="totalFiles">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Total Size</span>
                    <span class="stat-value" id="totalSize">0 MB</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Documents</span>
                    <span class="stat-value" id="docCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Images</span>
                    <span class="stat-value" id="imgCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Videos</span>
                    <span class="stat-value" id="vidCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Avg Size</span>
                    <span class="stat-value" id="avgSize">0 KB</span>
                </div>
            </div>
        </div>
    </div> -->

    <!-- Hidden File Input -->
<div class="stats-bar">
  <button class="log-btn" onclick="toggleLogPanel()">
    <i class="fi fi-rr-time-past"></i>
    <span>Log</span>
  </button>

  <div class="stats-left">
    <div class="sys-item">
      <i class="fi fi-rr-database"></i>
      <span class="label">Memory</span>
      <span class="value">12.3 GB / 32 GB</span>
    </div>

    <div class="sys-item">
      <i class="fi fi-rr-disk"></i>
      <span class="label">ROM</span>
      <span class="value">512 GB / 1 TB</span>
    </div>

    <div class="sys-item">
      <i class="fi fi-ts-cpu"></i>
      <span class="label">CPU</span>
      <span class="value">42%</span>
    </div>

    <div class="sys-item server-health server-ok">
      <i class="fi fi-rr-shield-check"></i>
      <span class="label">Server</span>
      <span class="value">Healthy</span>
    </div>

    <div class="sys-item">
      <i class="fi fi-rr-dashboard"></i>
      <span class="label">Latency</span>
      <span class="value">24 ms</span>
    </div>
  </div>
  <div class="stats-brand">
  <span class="brand-prefix">A product of</span>
  <img src="enmero-logo.png" alt="Enmero" class="brand-logo">
</div>
</div>

<!-- history popup (unchanged) -->
<div class="log-panel" id="logPanel">
  <div class="log-header">
    <span>Activity Log</span>
    <button class="log-close" onclick="toggleLogPanel()">&times;</button>
  </div>
  <div class="log-body">
    <div class="log-item">
      <span class="log-time">00:58</span>
      <span class="log-text">Uploaded 12 files</span>
    </div>
    <div class="log-item">
      <span class="log-time">00:52</span>
      <span class="log-text">Scanned downloads folder</span>
    </div>
    <div class="log-item">
      <span class="log-time">00:45</span>
      <span class="log-text">Cleared all files</span>
    </div>
  </div>
</div>


    <script>
    document.addEventListener("mousemove", (e) => {
        const w = window.innerWidth;
        const h = window.innerHeight;
        const dx = (e.clientX - w / 2);
        const dy = (e.clientY - h / 2);
        const dist = Math.hypot(dx, dy);

        const max = Math.min(w, h) / 3; // radius in which it brightens
        let t = 1 - dist / max;
        t = Math.max(0, Math.min(1, t));
        const maxOpacity = 0.3;          // was effectively 1
        document.querySelector(".gif-highlight").style.opacity = t * maxOpacity;

    });
    </script>




    <script>
        // Enhanced file categories with more extensions
        const fileCategories = {
            documents: ['pdf','doc','docx','txt','rtf','odt','pages','wpd','tex','md','markdown'],
            images: ['jpg','jpeg','png','gif','bmp','svg','webp','ico','tiff','tif','heic','raw','cr2','nef'],
            videos: ['mp4','avi','mov','mkv','flv','wmv','webm','mpg','mpeg','m4v','3gp','ogv'],
            audio: ['mp3','wav','aac','flac','ogg','m4a','wma','aiff','alac','dsf','ape'],
            code: ['js','py','html','css','java','cpp','c','h','hpp','rb','php','ts','jsx','tsx','vue','svelte','go','rs','swift','kt','dart','lua','sh','bat'],
            data: ['csv','json','xml','yaml','yml','sql','sqlite','db','xlsx','xls','ods','parquet','avro','orc'],
            archives: ['zip','rar','7z','tar','gz','bz2','xz','iso','dmg','cab','zipx']
        };

        let uploadedFiles = [];
        let currentFilter = 'all';
        let searchTerm = '';

        // Get FontAwesome icon for category
        function getCategoryIcon(category) {
            const icons = {
                documents: 'fas fa-file-alt',
                images: 'fas fa-image',
                videos: 'fas fa-video',
                audio: 'fas fa-music',
                code: 'fas fa-code',
                data: 'fas fa-database',
                archives: 'fas fa-file-archive',
                other: 'fas fa-file'
            };
            return icons[category] || 'fas fa-file';
        }

        // Enhanced drag and drop
        const dropZone = document.getElementById('dropZone');
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropZone.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            dropZone.addEventListener(eventName, highlight, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropZone.addEventListener(eventName, unhighlight, false);
        });

        function highlight(e) {
            dropZone.classList.add('dragover');
        }

        function unhighlight(e) {
            dropZone.classList.remove('dragover');
        }

        dropZone.addEventListener('drop', handleDrop, false);

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            handleFiles(files);
        }

        dropZone.addEventListener('click', () => {
            document.getElementById('fileInput').click();
        });

        // Categorize file
        function categorizeFile(filename) {
            const extension = filename.split('.').pop().toLowerCase();
            for (const [category, extensions] of Object.entries(fileCategories)) {
                if (extensions.includes(extension)) return category;
            }
            return 'other';
        }

        // Handle files
        function handleFiles(files) {
            Array.from(files).forEach(file => {
                if (file.type || file.name) {
                    const category = categorizeFile(file.name);
                    uploadedFiles.push({
                        id: Date.now() + Math.random(),
                        name: file.name,
                        size: file.size,
                        category: category,
                        type: file.type || 'unknown',
                        timestamp: new Date().toISOString()
                    });
                }
            });
            renderFiles();
            updateStats();
            updateCategoryCounts();
        }

        // Render files with search and filter
        function renderFiles() {
            const grid = document.getElementById('filesGrid');
            const dropZone = document.getElementById('dropZone');

            if (uploadedFiles.length === 0) {
                grid.style.display = 'none';
                dropZone.style.display = 'flex';
                return;
            }

            dropZone.style.display = 'none';
            grid.style.display = 'grid';

            let filteredFiles = uploadedFiles.filter(file => {
                const matchesFilter = currentFilter === 'all' || file.category === currentFilter;
                const matchesSearch = !searchTerm || file.name.toLowerCase().includes(searchTerm.toLowerCase());
                return matchesFilter && matchesSearch;
            });

            grid.innerHTML = filteredFiles.map(file => {
                const size = (file.size / 1024).toFixed(1);
                const iconClass = getCategoryIcon(file.category);
                return `
                    <div class="file-card" onclick="openFile('${file.id}')">
                        <i class="${iconClass} file-card-icon"></i>
                        <div class="file-card-name">${file.name}</div>
                        <div class="file-card-size">${size} KB</div>
                        <div class="file-card-category">
                            <i class="${iconClass}" style="font-size: 10px;"></i>
                            ${file.category.toUpperCase()}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Filter functions
        function filterCategory(category) {
            currentFilter = category;
            document.querySelectorAll('.category-item').forEach((item, index) => {
                item.classList.toggle('active', index === 0 && category === 'all' || category === item.textContent.trim().split(' ')[0].toLowerCase());
            });
            renderFiles();
        }

        function filterFiles() {
            searchTerm = document.getElementById('searchInput').value;
            renderFiles();
        }

        // Update stats and counts
        function updateStats() {
            const totalFiles = uploadedFiles.length;
            const totalSize = uploadedFiles.reduce((sum, f) => sum + f.size, 0);
            const totalMB = (totalSize / (1024 * 1024)).toFixed(1);
            const avgSize = totalFiles ? (totalSize / totalFiles / 1024).toFixed(1) : 0;

            const counts = {};
            Object.values(fileCategories).flat().forEach(cat => counts[cat] = 0);
            uploadedFiles.forEach(f => {
                if (f.category in counts) counts[f.category]++;
            });

            document.getElementById('totalFiles').textContent = totalFiles;
            document.getElementById('totalSize').textContent = totalMB + ' MB';
            document.getElementById('docCount').textContent = counts.documents || 0;
            document.getElementById('imgCount').textContent = counts.images || 0;
            document.getElementById('vidCount').textContent = counts.videos || 0;
            document.getElementById('avgSize').textContent = avgSize + ' KB';
        }

        function updateCategoryCounts() {
            const counts = {};
            uploadedFiles.forEach(f => {
                counts[f.category] = (counts[f.category] || 0) + 1;
            });
            document.querySelectorAll('.category-item span:last-child').forEach(span => {
                const category = span.previousElementSibling.textContent.trim().split(' ')[0].toLowerCase();
                span.textContent = `(${counts[category] || 0})`;
            });
        }

        // Utility functions
        function clearAllFiles() {
            if (confirm('Clear all files? This cannot be undone.')) {
                uploadedFiles = [];
                renderFiles();
                updateStats();
                updateCategoryCounts();
            }
        }

        function exportFiles() {
            if (!uploadedFiles.length) return alert('No files to export');
            const csv = 'ID,Name,SizeKB,Category,Type,Timestamp\n' + 
                uploadedFiles.map(f => `${f.id},"${f.name}",${(f.size/1024).toFixed(1)},${f.category},"${f.type}",${f.timestamp}`).join('\n');
            downloadCSV(csv, 'file_analysis.csv');
        }

        function downloadCSV(csv, filename) {
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Placeholder advanced functions
        function switchView(view) {
            console.log('Switch to:', view);
            document.querySelectorAll('.navbar-menu-item').forEach(item => item.classList.remove('active'));
            event.target.closest('.navbar-menu-item').classList.add('active');
        }

        function processFiles() { alert('Processing ' + uploadedFiles.length + ' files...'); }
        function importBatch() { alert('Batch import functionality'); }
        function scanFolder() { alert('Folder scan initiated'); }
        function scanDrive() { alert('Full drive scan started'); }
        function duplicateScan() { alert('Scanning for duplicates...'); }
        function batchRename() { alert('Batch rename tool'); }
        function toggleAdvancedOptions() { alert('Advanced options panel'); }
        function toggleUserMenu() { alert('User menu'); }
        function openFile(id) { alert('Opening file: ' + id); }

        // Initialize
        updateStats();
    </script>
</body>
</html>